{"ast":null,"code":"var _jsxFileName = \"/Users/lee/Flatiron/code2/bookclubfrontend/src/ClubSearch/ClubMeeting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ClubMeeting({\n  currentClub,\n  user,\n  allUsers,\n  meetings\n}) {\n  _s();\n\n  const history = useHistory();\n  const filteredMeetings = reviews.filter(review => review.book_id === book.id);\n  const reviewComponents = filteredReviews.map(review => /*#__PURE__*/_jsxDEV(ReviewCard, {\n    review: review.review,\n    allUsers: allUsers,\n    user_id: review.user_id,\n    book_id: review.book_id\n  }, review.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this));\n  const userId = user[0].id;\n  const [review, setReview] = useState('');\n  const formData = {\n    user_id: userId,\n    book_id: book.id,\n    review\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    fetch(\"http://localhost:3001/api/v1/reviews\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    }).then(r => r.json()).then(newReview => {\n      setReviews([...reviews, newReview]);\n      alert('Review Created!');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [currentClub.title, \" Meetings\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ClubMeeting, \"AWhD95b/TzwxBWH0tZXsSVAFSqU=\", false, function () {\n  return [useHistory];\n});\n\n_c = ClubMeeting;\nexport default ClubMeeting;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClubMeeting\");","map":{"version":3,"sources":["/Users/lee/Flatiron/code2/bookclubfrontend/src/ClubSearch/ClubMeeting.js"],"names":["React","useState","useHistory","ClubMeeting","currentClub","user","allUsers","meetings","history","filteredMeetings","reviews","filter","review","book_id","book","id","reviewComponents","filteredReviews","map","user_id","userId","setReview","formData","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","json","newReview","setReviews","alert","title"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;;AAEA,SAASC,WAAT,CAAqB;AAACC,EAAAA,WAAD;AAAcC,EAAAA,IAAd;AAAoBC,EAAAA,QAApB;AAA8BC,EAAAA;AAA9B,CAArB,EAA6D;AAAA;;AAEzD,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAMO,gBAAgB,GAAGC,OAAO,CAACC,MAAR,CAAgBC,MAAD,IAAYA,MAAM,CAACC,OAAP,KAAmBC,IAAI,CAACC,EAAnD,CAAzB;AAEA,QAAMC,gBAAgB,GAAGC,eAAe,CAACC,GAAhB,CAAqBN,MAAD,iBACzC,QAAC,UAAD;AAEA,IAAA,MAAM,EAAEA,MAAM,CAACA,MAFf;AAGA,IAAA,QAAQ,EAAEN,QAHV;AAIA,IAAA,OAAO,EAAEM,MAAM,CAACO,OAJhB;AAKA,IAAA,OAAO,EAAEP,MAAM,CAACC;AALhB,KACKD,MAAM,CAACG,EADZ;AAAA;AAAA;AAAA;AAAA,UADqB,CAAzB;AASA,QAAMK,MAAM,GAAGf,IAAI,CAAC,CAAD,CAAJ,CAAQU,EAAvB;AACA,QAAM,CAACH,MAAD,EAASS,SAAT,IAAsBpB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMqB,QAAQ,GAAG;AAACH,IAAAA,OAAO,EAAEC,MAAV;AAAkBP,IAAAA,OAAO,EAAEC,IAAI,CAACC,EAAhC;AAAoCH,IAAAA;AAApC,GAAjB;;AAGA,WAASW,YAAT,CAAsBC,KAAtB,EAA4B;AACxBA,IAAAA,KAAK,CAACC,cAAN;AACAC,IAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC1CC,MAAAA,MAAM,EAAE,MADkC;AAE1CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFiC;AAK1CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,QAAf;AALoC,KAAzC,CAAL,CAOCU,IAPD,CAOMC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAPX,EAQCF,IARD,CAQOG,SAAD,IAAe;AACjBC,MAAAA,UAAU,CAAC,CAAC,GAAG1B,OAAJ,EAAYyB,SAAZ,CAAD,CAAV;AACAE,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACH,KAXD;AAYH;;AAED,sBACI;AAAA,eACKjC,WAAW,CAACkC,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GAzCQnC,W;UAEWD,U;;;KAFXC,W;AA0CT,eAAeA,WAAf","sourcesContent":["import React,{useState} from 'react'\nimport {useHistory} from 'react-router-dom';\n\nfunction ClubMeeting({currentClub, user, allUsers, meetings}){\n    \n    const history = useHistory()\n    const filteredMeetings = reviews.filter((review) => review.book_id === book.id)\n\n    const reviewComponents = filteredReviews.map((review) => \n        <ReviewCard\n        key={review.id}\n        review={review.review}\n        allUsers={allUsers}\n        user_id={review.user_id}\n        book_id={review.book_id}\n        />\n    )\n    const userId = user[0].id\n    const [review, setReview] = useState('')\n    const formData = {user_id: userId, book_id: book.id, review}\n\n\n    function handleSubmit(event){\n        event.preventDefault()\n        fetch(\"http://localhost:3001/api/v1/reviews\", {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(r => r.json())\n        .then((newReview) => {\n            setReviews([...reviews,newReview])\n            alert('Review Created!')\n        })\n    }\n\n    return(\n        <div>\n            {currentClub.title} Meetings\n\n        </div>\n    )\n}\nexport default ClubMeeting;"]},"metadata":{},"sourceType":"module"}